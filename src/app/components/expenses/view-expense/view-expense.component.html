<div *ngIf="!isLoadingResults" class="add-btn-padding uk-flex uk-flex-left@s uk-flex-between" uk-margin>
    <button mat-flat-button color="primary" class="uk-margin-small-right" routerLink="/expenses/edit/{{allDataObj.id}}">
        <i class="fas fa-edit"></i> Edit
    </button>
    <button mat-stroked-button color="basic" class="uk-margin-small-right" routerLink="/expenses/new">
        Create New Expense
    </button>
</div>


<div class="details-container container-full-width">
    <div *ngIf="isLoadingResults">
        <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </div>
    <div *ngIf="!isLoadingResults">

        <div class="top-header-padding">
            <h2><strong>Details</strong></h2>
        </div>
        <!-- <div class="top-header-padding">
            <h2><strong>Expense ID {{allDataObj.id}}</strong></h2>
        </div> -->
        <div class="data-wrapper">
            <div class="data-container">
                <label>ID</label>
                <p>{{allDataObj.id}}</p>
            </div>

            <div class="data-container">
                <label>Created On</label>
                <p>{{allDataObj.CreationDate}}</p>
            </div>

            <div class="data-container">
                <label>Category</label>
                <p>{{allDataObj.typeName}}</p>
            </div>

            <div class="data-container">
                <label>Client</label>
                <p>{{allDataObj.clientName}}</p>
            </div>
            
            <div class="data-container">
                <label>Currency</label>
                <p>{{allDataObj.currency}}</p>
            </div>

            <div class="data-container">
                <label>Description</label>
                <p>{{allDataObj.Description}}</p>
            </div>

            <div class="data-container">
                <label>Total Amounts ({{allDataObj.currency}})</label>
                <p>{{allDataObj.TotalAmount | mycurrency:allDataObj.currency}}</p>
            </div>

        </div>

        <div class="table-container">

            <div class="top-header-padding uk-margin-medium-top">
                <h2><strong>Items</strong></h2>
            </div>

            <table mat-table [dataSource]="itemsDataSource" class="uk-table">
        
                <!-- index Column -->
                <ng-container matColumnDef="index">
                    <th mat-header-cell *matHeaderCellDef>No.</th>
                    <td mat-cell *matCellDef="let item; let i=index">{{i+1}}</td>
                </ng-container>
        
                <!-- name Column -->
                <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef>Name</th>
                    <td mat-cell *matCellDef="let item">{{ item.itemName}}</td>
                </ng-container>
        
                <!-- comments column -->
                <ng-container matColumnDef="comments">
                    <th mat-header-cell *matHeaderCellDef>Comments</th>
                    <td mat-cell *matCellDef="let item">{{item.itemDescription}}</td>
                </ng-container>
        
                <!-- unitPrice column -->
                <ng-container matColumnDef="unitPrice">
                    <th mat-header-cell *matHeaderCellDef>Unit Price ({{allDataObj.currency}})</th>
                    <td mat-cell *matCellDef="let item">{{item.unitPrice | mycurrency:allDataObj.currency}}</td>
                </ng-container>

                <!-- quantity column -->
                <ng-container matColumnDef="quantity">
                    <th mat-header-cell *matHeaderCellDef>Quantity</th>
                    <td mat-cell *matCellDef="let item">{{item.quantity}}</td>
                </ng-container>
        
                <!-- Vat Amounts column -->
                <ng-container matColumnDef="vatAmounts">
                    <th mat-header-cell *matHeaderCellDef>VAT Amounts ({{allDataObj.currency}})</th>
                    <td mat-cell *matCellDef="let item">{{item.vat | mycurrency:allDataObj.currency}}</td>
                </ng-container>

                <!-- Total Amounts column -->
                <ng-container matColumnDef="total">
                    <th mat-header-cell *matHeaderCellDef>Total Price ({{allDataObj.currency}})</th>
                    <td mat-cell *matCellDef="let item">{{item.total | mycurrency:allDataObj.currency}}</td>
                </ng-container>
        
        
                <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                <tr mat-row *matRowDef="let item; columns: displayedColumns;"></tr>
        
            </table>
        </div>
    </div>
    

</div>